
## 📊 Yorutsuke V4.8: Dashboard 设计详解

### 1. 设计理念 (Design Philosophy)

Dashboard 是用户每日打开应用的第一眼，需要在 3 秒内传达核心信息。

* **信息密度**：采用"一屏概览"原则，关键指标无需滚动即可获取。
* **视觉焦点**：今日收支差额作为最大数字居中展示，其他指标环绕布局。
* **时间锚定**：顶部显示当前日期和时间，建立"财务日记"的心理暗示。

---

### 2. 核心模块 (Core Modules)

#### A. 今日概览卡片 (Today's Summary)

* **主数字**：今日净收支，采用 **48px JetBrains Mono** 超大字号。
* **正负指示**：
  * 正数：Emerald-500 + 向上箭头
  * 负数：Rose-500 + 向下箭头
* **副信息**：收入/支出明细以小字展示在主数字下方。

#### B. 快速统计条 (Quick Stats Bar)

横向排列的 4 个微型卡片：

| 指标 | 图标 | 说明 |
|------|------|------|
| 本月收入 | 📈 | 当月累计收入 |
| 本月支出 | 📉 | 当月累计支出 |
| 待处理 | 📷 | 未确认的收据数量 |
| 配额剩余 | 🎯 | 今日剩余上传额度 |

#### C. 最近活动流 (Recent Activity Stream)

* **时间线设计**：左侧为时间轴，右侧为活动卡片。
* **活动类型**：
  * 🧾 新收据上传
  * ✅ 交易确认
  * 📊 报告生成
* **限制条数**：最多显示 5 条，更多内容引导至 Ledger。

---

### 3. 空状态设计 (Empty States)

#### 首次使用

```
┌─────────────────────────────────┐
│     🌅 欢迎使用 Yorutsuke       │
│                                 │
│   拖拽您的第一张收据开始记账     │
│                                 │
│   [ 开始使用 →]                 │
└─────────────────────────────────┘
```

#### 今日无数据

```
┌─────────────────────────────────┐
│        📭 今日暂无记录          │
│                                 │
│   上传收据或手动添加交易        │
└─────────────────────────────────┘
```

---

### 4. 响应式适配 (Responsive)

* **桌面**：三列布局（左统计 + 中主数字 + 右活动流）
* **窄窗口**：垂直堆叠，主数字在最顶部

---

### 5. 日期选择器 (Date Selector) - MVP3 Phase A

**智能默认日期**：根据当前时间自动选择显示日期
- **早上 0:00-12:00**：默认显示昨日（查看完整的昨日业务数据）
- **下午 12:00-24:00**：默认显示今日（查看当日进度）

**快捷按钮**：
```
[ 今日 ] [ 昨日 ]
```
- 按钮字号：13px, 600
- Active 状态：blue-500 背景 + 白色文字
- Hover 状态：blue-500 边框

**确认状态分解**：显示已确认 vs 未确认金额

```
📅 昨日精算 (2026-01-09)
↑ ¥20,000 純利益

+¥50,000 収入
  ✓ ¥45,000  ⏳ ¥5,000

-¥30,000 支出
  ✓ ¥28,000  ⏳ ¥2,000

未確認: 3件
[詳細を見る →]
```

**设计要点**：
- ✓ 已确认：slate-600 颜色
- ⏳ 未确认：amber-600 颜色
- "詳細を見る" 按钮：跳转到 Ledger，自动筛选当天的未确认交易

**数据来源**：
- 使用 `transaction.date`（交易发生日期）筛选
- 本地优先（Local-First Reactive）：显示本地 SQLite 数据
- 实时更新：用户在 Ledger 确认/删除后，Dashboard 自动刷新

---

**版本**: V4.9 (MVP3 Phase A)
**最后更新**: 2026-01-10

