
## ⚙️ Yorutsuke V4.8: Settings 设计详解

### 1. 设计理念 (Design Philosophy)

Settings 页面采用"渐进式披露"原则，常用设置显眼，高级选项收敛。

* **分组逻辑**：按功能域分组（外观、账户、数据、关于）
* **即时生效**：设置更改立即应用，无需保存按钮
* **视觉反馈**：切换开关有明确的 ON/OFF 状态

---

### 2. 设置分组 (Settings Groups)

#### A. 外观 (Appearance)

| 设置项 | 类型 | 选项 | 说明 |
|--------|------|------|------|
| 主题 | Select | Light / Dark | 界面配色方案 |
| 语言 | Select | 日本語 / English | 界面语言 |

#### B. 通知 (Notifications)

| 设置项 | 类型 | 默认值 | 说明 |
|--------|------|--------|------|
| 启用通知 | Toggle | ON | 系统通知开关 |
| 每日报告 | Toggle | ON | 早间报告提醒 |
| 配额提醒 | Toggle | ON | 配额即将用尽时提醒 |

#### C. 账户 (Account)

| 设置项 | 类型 | 说明 |
|--------|------|------|
| 用户信息 | Display | 显示当前用户邮箱和等级 |
| 登出 | Button | 清除登录状态 |

#### D. 数据 (Data)

| 设置项 | 类型 | 说明 |
|--------|------|------|
| 清除缓存 | Button | 清除本地缓存数据 |
| 导出数据 | Button | 导出交易记录为 CSV |

#### E. 关于 (About)

| 设置项 | 类型 | 说明 |
|--------|------|------|
| 版本 | Display | 当前应用版本号 |
| 开源许可 | Link | 第三方库许可证 |
| 反馈 | Link | GitHub Issues 链接 |

---

### 3. UI 组件样式

#### Toggle Switch

```
ON:  [====●]  Blue-500 背景
OFF: [●====]  Slate-300 背景
```

* **动效**：0.2s ease-in-out 滑动
* **尺寸**：44x24px（符合触控友好标准）

#### Select Dropdown

```
┌──────────────────────┐
│ Dark               ▼ │
├──────────────────────┤
│ ○ Light              │
│ ● Dark               │
└──────────────────────┘
```

* **选中态**：Blue-500 圆点指示
* **Hover**：Slate-50 背景高亮

#### Action Button

```
┌──────────────────────┐
│      [ 登出 ]        │  ← Slate-800 背景
└──────────────────────┘

┌──────────────────────┐
│    [ 清除缓存 ]      │  ← Rose-500 背景（破坏性操作）
└──────────────────────┘
```

---

### 4. 调试模式 (Debug Mode)

仅在 `debugEnabled: true` 时显示。

```
┌─────────────────────────────────────┐
│  🔧 Debug Info                      │
│                                     │
│  User ID: guest-abc123              │
│  Theme: dark                        │
│  Language: en                       │
│  DB Version: 3                      │
│  Mock Mode: false                   │
└─────────────────────────────────────┘
```

* **背景**：Slate-900（深色块，与常规设置区分）
* **字体**：JetBrains Mono（等宽，便于复制）

---

### 5. 访客用户特殊状态 (Guest User)

当用户未登录时，账户区域显示：

```
┌─────────────────────────────────────┐
│  👤 访客模式                        │
│                                     │
│  数据将在 60 天后过期               │
│  注册账户以永久保存数据             │
│                                     │
│  [ 注册 ]  [ 登录 ]                 │
└─────────────────────────────────────┘
```

* **警告色**：Amber-100 背景
* **按钮**：注册（主要）/ 登录（次要）

